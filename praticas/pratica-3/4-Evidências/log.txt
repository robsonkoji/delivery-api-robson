 .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.5.3)

2025-07-15T23:01:57.865-03:00  INFO 54843 --- [  restartedMain] c.d.delivery.DeliveryApiApplication      : Starting DeliveryApiApplication using Java 21.0.7 with PID 54843 (/Users/robson/Documents/delivery-api-robson/delivery-api/target/classes started by robson in /Users/robson/Documents/delivery-api-robson/delivery-api)
2025-07-15T23:01:57.866-03:00  INFO 54843 --- [  restartedMain] c.d.delivery.DeliveryApiApplication      : No active profile set, falling back to 1 default profile: "default"
2025-07-15T23:01:57.885-03:00  INFO 54843 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-15T23:01:57.885-03:00  INFO 54843 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-15T23:01:58.266-03:00  INFO 54843 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-15T23:01:58.304-03:00  INFO 54843 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 4 JPA repository interfaces.
2025-07-15T23:01:58.520-03:00  INFO 54843 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-15T23:01:58.529-03:00  INFO 54843 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-15T23:01:58.529-03:00  INFO 54843 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-15T23:01:58.547-03:00  INFO 54843 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-15T23:01:58.548-03:00  INFO 54843 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 661 ms
2025-07-15T23:01:58.675-03:00  INFO 54843 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-15T23:01:58.704-03:00  INFO 54843 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2025-07-15T23:01:58.705-03:00  INFO 54843 --- [  restartedMain] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2025-07-15T23:01:58.768-03:00  INFO 54843 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-15T23:01:58.832-03:00  INFO 54843 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-15T23:01:58.841-03:00  INFO 54843 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-15T23:01:58.942-03:00  INFO 54843 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:delivery user=SA
2025-07-15T23:01:58.942-03:00  INFO 54843 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-15T23:01:59.062-03:00  INFO 54843 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-15T23:01:59.298-03:00  INFO 54843 --- [  restartedMain] o.h.m.i.EntityInstantiatorPojoStandard   : HHH000182: No default (no-argument) constructor for class: com.deliverytech.delivery.model.ItemPedido (class must be instantiated by Interceptor)
2025-07-15T23:01:59.388-03:00  INFO 54843 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
Hibernate: 
    drop table if exists cliente cascade 
Hibernate: 
    drop table if exists item_pedido cascade 
Hibernate: 
    drop table if exists pedido cascade 
Hibernate: 
    drop table if exists produto cascade 
Hibernate: 
    drop table if exists restaurante cascade 
Hibernate: 
    create table cliente (
        ativo boolean not null,
        id bigint generated by default as identity,
        email varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )
Hibernate: 
    create table item_pedido (
        preco_total numeric(38,2),
        preco_unitario numeric(38,2),
        quantidade integer not null,
        subtotal numeric(38,2),
        id bigint generated by default as identity,
        pedido_id bigint,
        produto_id bigint,
        primary key (id)
    )
Hibernate: 
    create table pedido (
        subtotal numeric(38,2),
        taxa_entrega numeric(38,2),
        valor_total numeric(38,2),
        cliente_id bigint,
        data_criacao timestamp(6),
        data_pedido timestamp(6),
        id bigint generated by default as identity,
        restaurante_id bigint,
        endereco_entrega varchar(255),
        numero varchar(255),
        numero_pedido varchar(255),
        observacoes varchar(255),
        status varchar(255) check (status in ('CRIADO','PENDENTE','CONFIRMADO','PREPARANDO','SAIU_PARA_ENTREGA','ENTREGUE','CANCELADO')),
        primary key (id)
    )
Hibernate: 
    create table produto (
        disponivel boolean not null,
        preco numeric(38,2),
        id bigint generated by default as identity,
        restaurante_id bigint,
        categoria varchar(255),
        descricao varchar(255),
        nome varchar(255),
        primary key (id)
    )
Hibernate: 
    create table restaurante (
        ativo boolean not null,
        avaliacao numeric(38,2),
        taxa_entrega numeric(38,2),
        id bigint generated by default as identity,
        categoria varchar(255),
        endereco varchar(255),
        nome varchar(255),
        telefone varchar(255),
        primary key (id)
    )
Hibernate: 
    alter table if exists item_pedido 
       add constraint FK60ym08cfoysa17wrn1swyiuda 
       foreign key (pedido_id) 
       references pedido
Hibernate: 
    alter table if exists item_pedido 
       add constraint FKtk55mn6d6bvl5h0no5uagi3sf 
       foreign key (produto_id) 
       references produto
Hibernate: 
    alter table if exists pedido 
       add constraint FK30s8j2ktpay6of18lbyqn3632 
       foreign key (cliente_id) 
       references cliente
Hibernate: 
    alter table if exists pedido 
       add constraint FK3eud5cqmgsnltyk704hu3qj71 
       foreign key (restaurante_id) 
       references restaurante
Hibernate: 
    alter table if exists produto 
       add constraint FKb9jhjyghjcn25guim7q4pt8qx 
       foreign key (restaurante_id) 
       references restaurante
2025-07-15T23:01:59.417-03:00  INFO 54843 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-15T23:01:59.646-03:00  WARN 54843 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-15T23:01:59.672-03:00  INFO 54843 --- [  restartedMain] o.s.v.b.OptionalValidatorFactoryBean     : Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
2025-07-15T23:01:59.860-03:00  INFO 54843 --- [  restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:delivery'
2025-07-15T23:01:59.928-03:00  INFO 54843 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-15T23:01:59.934-03:00  INFO 54843 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-07-15T23:01:59.981-03:00  INFO 54843 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-07-15T23:01:59.992-03:00  INFO 54843 --- [  restartedMain] c.d.delivery.DeliveryApiApplication      : Started DeliveryApiApplication in 2.294 seconds (process running for 2.473)
üîÅ Carregando dados de teste...
Hibernate: 
    insert 
    into
        cliente
        (ativo,email,nome,telefone,id) 
    values
        (?,?,?,?,default)
Hibernate: 
    insert 
    into
        cliente
        (ativo,email,nome,telefone,id) 
    values
        (?,?,?,?,default)
Hibernate: 
    insert 
    into
        cliente
        (ativo,email,nome,telefone,id) 
    values
        (?,?,?,?,default)
Hibernate: 
    insert 
    into
        restaurante
        (ativo,avaliacao,categoria,endereco,nome,taxa_entrega,telefone,id) 
    values
        (?,?,?,?,?,?,?,default)
Hibernate: 
    insert 
    into
        restaurante
        (ativo,avaliacao,categoria,endereco,nome,taxa_entrega,telefone,id) 
    values
        (?,?,?,?,?,?,?,default)
Hibernate: 
    insert 
    into
        produto
        (categoria,descricao,disponivel,nome,preco,restaurante_id,id) 
    values
        (?,?,?,?,?,?,default)
Hibernate: 
    insert 
    into
        produto
        (categoria,descricao,disponivel,nome,preco,restaurante_id,id) 
    values
        (?,?,?,?,?,?,default)
Hibernate: 
    insert 
    into
        produto
        (categoria,descricao,disponivel,nome,preco,restaurante_id,id) 
    values
        (?,?,?,?,?,?,default)
Hibernate: 
    insert 
    into
        produto
        (categoria,descricao,disponivel,nome,preco,restaurante_id,id) 
    values
        (?,?,?,?,?,?,default)
Hibernate: 
    insert 
    into
        produto
        (categoria,descricao,disponivel,nome,preco,restaurante_id,id) 
    values
        (?,?,?,?,?,?,default)
Hibernate: 
    insert 
    into
        pedido
        (cliente_id,data_criacao,data_pedido,endereco_entrega,numero,numero_pedido,observacoes,restaurante_id,status,subtotal,taxa_entrega,valor_total,id) 
    values
        (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: 
    insert 
    into
        item_pedido
        (pedido_id,preco_total,preco_unitario,produto_id,quantidade,subtotal,id) 
    values
        (?,?,?,?,?,?,default)
Hibernate: 
    insert 
    into
        item_pedido
        (pedido_id,preco_total,preco_unitario,produto_id,quantidade,subtotal,id) 
    values
        (?,?,?,?,?,?,default)
Hibernate: 
    insert 
    into
        pedido
        (cliente_id,data_criacao,data_pedido,endereco_entrega,numero,numero_pedido,observacoes,restaurante_id,status,subtotal,taxa_entrega,valor_total,id) 
    values
        (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: 
    insert 
    into
        item_pedido
        (pedido_id,preco_total,preco_unitario,produto_id,quantidade,subtotal,id) 
    values
        (?,?,?,?,?,?,default)
‚úÖ Dados carregados com sucesso.
Hibernate: 
    select
        c1_0.id,
        c1_0.ativo,
        c1_0.email,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.email=?
Cliente encontrado: Jo√£o Silva
Hibernate: 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.descricao,
        p1_0.disponivel,
        p1_0.nome,
        p1_0.preco,
        p1_0.restaurante_id 
    from
        produto p1_0 
    where
        p1_0.restaurante_id=?
Hibernate: 
    select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0 
    where
        r1_0.id=?
Produto do Restaurante: null
Produto do Restaurante: null
Produto do Restaurante: null
Hibernate: 
    select
        p1_0.id,
        p1_0.cliente_id,
        p1_0.data_criacao,
        p1_0.data_pedido,
        p1_0.endereco_entrega,
        p1_0.numero,
        p1_0.numero_pedido,
        p1_0.observacoes,
        p1_0.restaurante_id,
        p1_0.status,
        p1_0.subtotal,
        p1_0.taxa_entrega,
        p1_0.valor_total 
    from
        pedido p1_0 
    order by
        p1_0.data_pedido desc fetch first ? rows only
Hibernate: 
    select
        c1_0.id,
        c1_0.ativo,
        c1_0.email,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.id=?
Hibernate: 
    select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0 
    where
        r1_0.id=?
Hibernate: 
    select
        c1_0.id,
        c1_0.ativo,
        c1_0.email,
        c1_0.nome,
        c1_0.telefone 
    from
        cliente c1_0 
    where
        c1_0.id=?
Hibernate: 
    select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0 
    where
        r1_0.id=?
Pedido recente: 1
Pedido recente: 2
Hibernate: 
    select
        r1_0.id,
        r1_0.ativo,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.endereco,
        r1_0.nome,
        r1_0.taxa_entrega,
        r1_0.telefone 
    from
        restaurante r1_0 
    where
        r1_0.taxa_entrega<=?
Restaurante com taxa at√© R$5,00: Pizzaria Napoli
